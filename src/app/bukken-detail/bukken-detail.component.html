<div class="detail-div">
<div class="register-div">
    <button mat-raised-button class="button" (click)="backToList()">一覧へ</button>
    <button mat-raised-button color="primary" class="button" (click)="save()">登録</button>
</div>
<ul *ngIf="errors.length > 0">
    <li *ngFor="let msg of errors">{{msg}}</li>
</ul>
<table class="detail-tbl">  
    <tr>
        <th>物件番号</th>
        <td>
            <input type="text" [ngModel]="data.bukkenNo">
        </td>
    </tr>
    <tr>
        <th>物件名</th>
        <td>
            <input type="text" [ngModel]="data.bukkenName" class="width400">
        </td>
    </tr>
</table>
<br>
<span class="block-title">情報ステータス</span>
<table class="detail-tbl">  
    <tr>
        <th>情報収集日</th>
        <td>
            <div class="picker-div">
                <input type="text" [matDatepicker]="picker" class="width150">
                <mat-datepicker-toggle matSuffix [for]="picker" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </div>
        </td>
        <th>情報担当者</th>
        <td>
            <mat-select multiple class="width158">
                <mat-option *ngFor="let code of getCode('001')" [value]="code.codeDetail">{{code.name}}</mat-option>
            </mat-select>
        </td>
        <th>情報提供者</th>
        <td>
            <mat-select multiple class="width158">
                <mat-option *ngFor="let code of getCode('004')" [value]="code.codeDetail">{{code.name}}</mat-option>
            </mat-select>
        </td>
    </tr>
    <tr>
        <th>着手日</th>
        <td colspan="5">
            <div class="picker-div">
                <input type="text" [matDatepicker]="startDate" class="width150">
                <mat-datepicker-toggle matSuffix [for]="startDate" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #startDate></mat-datepicker>
            </div>
        </td>      
    </tr>
    <tr>
        <th>終了日</th>
        <td >
            <div class="picker-div">
                <input type="text" [matDatepicker]="finishDate" class="width150">
                <mat-datepicker-toggle matSuffix [for]="finishDate" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #finishDate></mat-datepicker>
            </div>
        </td>
        <th>結果</th>
        <td colspan="3">
            <app-select-component [codes]="getCode('001')" [(ngModel)]="data.zipcode"></app-select-component>
        </td>      
    </tr>
    <tr>
        <th>備考1</th>
        <td colspan="5">
            <input type="text" class="width600">
        </td>      
    </tr>
    <tr>
        <th>備考2</th>
        <td colspan="5">
            <input type="text" class="width600">
        </td>      
    </tr>
</table>
<br>
<span class="block-title">物件概要</span>
<table class="detail-tbl">  
    <tr>
        <th>不可分</th>
        <td>
            <mat-radio-group>
                <mat-radio-button value="1">無&nbsp;&nbsp;&nbsp;&nbsp;</mat-radio-button>
                <mat-radio-button value="2">有</mat-radio-button>
            </mat-radio-group>
        </td>
        <th>不可分子</th>
        <td><input type="text" class="width150"></td>
        <th>不可分母</th>
        <td><input type="text" class="width150"></td>
        <th>地目</th>
        <td>
            <app-select-component [codes]="getCode('002')" [(ngModel)]="data.zipcode"></app-select-component>
        </td>
    </tr>
</table>

<!--block-->
<div *ngFor="let desc of data.locations" style="margin-top: 10px;">

<table class="detail-tbl">  
    <tr>
        <th rowspan="7" class="min">所在地</th>
        <th class="min2">郵便番号</th>
        <td><input type="text"></td>
        <th>地積</th>
        <td><input type="text" class="width80">&nbsp;㎡</td>
        <th>上物</th>
        <td><mat-radio-group>
                <mat-radio-button value="1">無&nbsp;&nbsp;&nbsp;&nbsp;</mat-radio-button>
                <mat-radio-button value="2">有</mat-radio-button>
            </mat-radio-group>
        </td> 
    </tr>
    <tr>
        <th class="min2">都道府県</th>
        <td><input type="text"></td>
        <th>坪数</th>
        <td><input type="text" class="width80">&nbsp;坪</td>
        <th>建物種別</th>
        <td>
            <app-select-component [codes]="getCode('003')" [(ngModel)]="data.zipcode"></app-select-component>
        </td> 
    </tr>
    <tr>
        <th class="min2">所在地1</th>
        <td><input type="text"></td>
        <th>容積率</th>
        <td><input type="text" class="width80">&nbsp;%</td>
        <th>床面積</th>
        <td><input type="text" class="width80">&nbsp;㎡</td> 
    </tr>
    <tr>
        <th class="min2">所在地2</th>
        <td><input type="text"></td>
        <th>建蔽率</th>
        <td><input type="text" class="width80">&nbsp;%</td>
        <th>構造</th>
        <td>
            <app-select-component [codes]="getCode('004')" [(ngModel)]="data.zipcode"></app-select-component>
        </td> 
    </tr>
    <tr>
        <th class="min2">地番1(丁目)</th>
        <td><input type="text"></td>
        <th>所有者名(土地)</th>
        <td><input type="text"></td>
        <th>所有者名(建物)</th>
        <td><input type="text"></td> 
    </tr>
    <tr>
        <th class="min2">地番2(番地)</th>
        <td><input type="text"></td>
        <th>所有者住所(土地)</th>
        <td><input type="text"></td>
        <th>所有者住所(建物)</th>
        <td><input type="text"></td>
    </tr>
    <tr>
        <th class="min2">家屋番号</th>
        <td><input type="text"></td>
        <th>根)抵当権(土地)</th>
        <td><input type="text"></td>
        <th>根)抵当権(建物)</th>
        <td><input type="text"></td> 
    </tr>
</table>

<table class="detail-tbl">
    <tr>
        <th>地図添付</th>
        <td>
            <app-file bukkenId="data.bukkenId"></app-file>                            
            <button mat-stroked-button style="float: right;margin-top:5px;">
                <mat-icon>arrow_drop_down_circle</mat-icon>
                契約情報
            </button>            
        </td>        
    </tr>
</table>

<!--/契約-->
<table class="detail-tbl">  
    <tr>
        <th class="min2">契約担当者</th>
        <td colspan="9"><input type="text"></td>
    </tr>
    <tr>
        <th class="min2">不可分成立日</th>
        <td>
            <input type="text" [matDatepicker]="fukafinishDate" class="width100">
            <mat-datepicker-toggle matSuffix [for]="fukafinishDate" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #fukafinishDate></mat-datepicker>
        </td>


        <th>契約日</th>
        <td><input type="text" [matDatepicker]="contractDate" class="width100">
            <mat-datepicker-toggle matSuffix [for]="contractDate" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #contractDate></mat-datepicker></td>
        <th>売買代金</th>
        <td  colspan="5"><input type="text" class="width100">&nbsp;円</td>

    </tr>
    <tr>
        <th class="min2">内金①</th>
        <td><input type="text" class="width100">&nbsp;円</td>
        <th>内金②</th>
        <td><input type="text" class="width100">&nbsp;円</td>
        <th>内金③</th>
        <td><input type="text" class="width100">&nbsp;円</td>
        <th>内金④</th>
        <td colspan="3"><input type="text" class="width100">&nbsp;円</td> 
    </tr>
    <tr>
        <th class="min2">支払日</th>
        <td><input type="text" [matDatepicker]="paymentDate1" class="width100">
            <mat-datepicker-toggle matSuffix [for]="paymentDate1" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #paymentDate1></mat-datepicker></td>
        <th>支払日</th>
        <td><input type="text" [matDatepicker]="paymentDate2" class="width100">
            <mat-datepicker-toggle matSuffix [for]="paymentDate2" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #paymentDate2></mat-datepicker></td>
        <th>支払日</th>
        <td><input type="text" [matDatepicker]="paymentDate3" class="width100">
            <mat-datepicker-toggle matSuffix [for]="paymentDate3" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #paymentDate3></mat-datepicker></td>
        <th>支払日</th>
        <td colspan="3"><input type="text" [matDatepicker]="paymentDate4" class="width100">
            <mat-datepicker-toggle matSuffix [for]="paymentDate4" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #paymentDate4></mat-datepicker></td> 
    </tr>
    <tr>
        <th class="min2">即決和解</th>
        <td colspan="9">
            <mat-radio-group>
                <mat-radio-button value="1">無&nbsp;&nbsp;&nbsp;&nbsp;</mat-radio-button>
                <mat-radio-button value="2">有</mat-radio-button>
            </mat-radio-group>
        </td>
    </tr>
    <tr>
        <th class="min2">即決和解申請期日</th>
        <td><input type="text" [matDatepicker]="judgeDeadline" class="width100">
            <mat-datepicker-toggle matSuffix [for]="judgeDeadline" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #judgeDeadline></mat-datepicker></td>
        <th>即決和解申請日</th>
        <td><input type="text" [matDatepicker]="judgeDate" class="width100">
            <mat-datepicker-toggle matSuffix [for]="judgeDate" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #judgeDate></mat-datepicker></td>
        <th>即決和解費用</th>
        <td><input type="text" class="width130">&nbsp;円</td>
        <th>即決日</th>
        <td colspan="3"><input type="text" [matDatepicker]="judgefinishDate" class="width100">
            <mat-datepicker-toggle matSuffix [for]="judgefinishDate" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #judgefinishDate></mat-datepicker></td>
    </tr>
    <tr>
        <th class="min2">和解成立後</th>
        <td><input type="text" class="width130"></td>
        <th>明渡期限</th>
        <td><input type="text" class="width130"></td>
        <th>明渡日</th>
        <td><input type="text" [matDatepicker]="clearDate" class="width100">
            <mat-datepicker-toggle matSuffix [for]="clearDate" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #clearDate></mat-datepicker></td>
        <th>明渡(留保金支払)日</th>
        <td><input type="text" [matDatepicker]="clearkeeppayDate" class="width100">
            <mat-datepicker-toggle matSuffix [for]="clearkeeppayDate" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #clearkeeppayDate></mat-datepicker></td>
        <th>成果簿予定完成日</th>
        <td><input type="text" [matDatepicker]="seikaboplansDate" class="width100">
            <mat-datepicker-toggle matSuffix [for]="seikaboplansDate" class="picker-icon"></mat-datepicker-toggle>
            <mat-datepicker #seikaboplansDate></mat-datepicker></td> 
    </tr>
    <tr>
        <th class="min2">等価交換</th>
        <td><mat-radio-group>
            <mat-radio-button value="1">無&nbsp;&nbsp;&nbsp;&nbsp;</mat-radio-button>
            <mat-radio-button value="2">有</mat-radio-button>
            </mat-radio-group>
        </td>
        <th>合意解除</th>
        <td><mat-radio-group>
                <mat-radio-button value="1">無&nbsp;&nbsp;&nbsp;&nbsp;</mat-radio-button>
                <mat-radio-button value="2">有</mat-radio-button>
            </mat-radio-group>
        </td>
        <th>テナント立退</th>
        <td><mat-radio-group>
                <mat-radio-button value="1">無&nbsp;&nbsp;&nbsp;&nbsp;</mat-radio-button>
                <mat-radio-button value="2">有</mat-radio-button>
            </mat-radio-group>
        </td>
        <th>紙</th>
        <td><mat-radio-group>
                <mat-radio-button value="1">無&nbsp;&nbsp;&nbsp;&nbsp;</mat-radio-button>
                <mat-radio-button value="2">有</mat-radio-button>
            </mat-radio-group>
        </td>
        <th>覚書</th>
        <td><mat-radio-group>
                <mat-radio-button value="1">無&nbsp;&nbsp;&nbsp;&nbsp;</mat-radio-button>
                <mat-radio-button value="2">有</mat-radio-button>
            </mat-radio-group>
        </td>
    </tr>
    <tr>
            <th>業務委託・仲介等</th>
            <td colspan="9">
                <input type="text" class="width1000">
            </td>      
        </tr>
        <tr>
            <th>契約備考</th>
            <td colspan="9">
                <input type="text" class="width1000">
            </td>      
        </tr>
</table>
<!--/契約-->

</div>
<!--/block-->

<div class="button-div">
    <button mat-raised-button color="warn" (click)="addLocation()">追加</button>
    <button mat-raised-button color="primary" *ngIf="data.locations.length > 1" (click)="removeLocation()">削除</button>
</div>

</div>
<ngx-spinner type="ball-spin-clockwise" bdOpacity="0.7"></ngx-spinner>