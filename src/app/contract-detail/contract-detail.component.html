<ngx-spinner type="ball-spin-clockwise" bdOpacity="0.7"></ngx-spinner>
<div  class="detail-div">
    <div class="register-div">
        <button mat-raised-button class="button" (click)="backToList()">一覧へ</button>
        <!-- 20240131 S_Update -->
        <!-- <button mat-raised-button *ngIf="this.contract != null && this.contract.pid > 0" class="button contractCalculateExport-button" (click)="contractCalculateExport()">契約精算申請書作成</button>20230506 Add -->
        <!-- 20240216 S_Update -->
        <!-- <button mat-raised-button *ngIf="this.contract != null && this.contract.pid > 0" class="button contractCalculateExport-button" (click)="contractCalculateExport()" [disabled]="disableUser">契約精算申請書作成</button>20230506 Add -->
        <button mat-raised-button *ngIf="this.contract != null && this.contract.pid > 0" class="button contractCalculateExport-button" (click)="contractCalculateExport()">契約精算申請書作成</button>
        <!-- 20240216 E_Update -->
        <!-- 20240131 E_Update -->
        <button mat-raised-button class="button bukken-button" (click)="toBukken()">物件情報</button>
        <!-- 20240131 S_Update -->
        <!-- <button mat-raised-button *ngIf="this.contract != null && this.contract.pid > 0" class="button export-button" (click)="export()">契約書出力</button> -->
        <button mat-raised-button *ngIf="this.contract != null && this.contract.pid > 0" class="button export-button" (click)="export()" [disabled]="disableUser">契約書出力</button>
        <!-- 20240131 E_Update -->
        <!--<button mat-raised-button *ngIf="this.contract.pid > 0" class="button buyInfoExport-button" (click)="buyInfoExport()">決済案内出力</button>--><!-- 20211107 Delete -->
        <!-- 20240131 S_Update -->
        <!-- <button mat-raised-button color="primary" class="button" (click)="save()">登録</button> -->
        <button mat-raised-button color="primary" class="button" *ngIf="!this.disableUser" (click)="save()">登録</button>
        <!-- 20240131 E_Update -->
    </div>
    <ul *ngIf="errorMsgs.length > 0" class="error-span">
        <li *ngFor="let msg of errorMsgs">{{msg}}</li>
    </ul>
    <br>
    <!--/土地情報契約-->
    <table class="detail-tbl-min">
        <tr>
            <td><span class="min">契約区分</span></td>
            <td colspan="9">
                <span class="now">契約状況</span>&nbsp;&nbsp;<app-select-component [codes]="getCode('019')"  [(ngModel)]="contract.contractNow"></app-select-component>
            </td>
        </tr>
        <tr>
            <th>物件番号</th>
            <td>
                <input type="text" class="width150" [attr.disabled]="true" [ngModel]="data.bukkenNo" maxlength="10">
            </td>
            <th>契約物件番号</th>
            <td>
                <input type="text" class="width150" [attr.disabled]="true" [ngModel]="data.contractBukkenNo" maxlength="20">
            </td>
            <th>契約番号</th>
            <td>
                <input type="text" class="width150" [attr.disabled]="true" value="{{data.bukkenNo + '-' + contract.contractNumber}}">
            </td>
            <th>契約書番号</th>
            <td>
                <input type="text" class="width150"  [(ngModel)]="contract.contractFormNumber" maxlength="20">
            </td>
        </tr>
        <tr>
            <th>契約担当者</th>
            <!-- 20200828 S_Update -->
            <!--<td>-->
            <td colspan="2">
            <!-- 20200828 E_Update -->
                <!-- 20200828 S_Delete -->
                <!--
                <app-select-component [codes]="getUsers()" [(ngModel)]="contract.contractStaff"></app-select-component>
                -->
                <!-- 20200828 E_Delete -->
                <!-- 20200828 S_Add -->
                <ng-multiselect-dropdown class="width300"
                    [placeholder]="'選択'"
                    [data]="emps"
                    [(ngModel)]="contract.contractStaffMap"
                    [settings]="dropdownSettings"
                    >
                </ng-multiselect-dropdown>
                <!-- 20200828 E_Add -->
            </td> 
        </tr>
        <tr>
            <th>即決和解</th>
            <td>
                <app-select-component [codes]="getCode('006')" [(ngModel)]="contract.promptDecideFlg"></app-select-component>
            </td>
            <th>契約種別</th>
            <td>
                <app-select-component [codes]="getCode('012')" [(ngModel)]="contract.contractType"></app-select-component>
            </td>
            <td colspan="4">
                <mat-radio-group [(ngModel)]="contract.promptDecideContent">
                    <mat-radio-button *ngFor="let code of getCode('008')" [value]="code.codeDetail">{{code.name}}&nbsp;&nbsp;</mat-radio-button>
                </mat-radio-group>
                <!--<mat-checkbox *ngFor="let code of getCode('008')" [ngModel]="contract.promptDecideContent"  (change)="change($event, item, '01')">{{code.name}}&nbsp;&nbsp;</mat-checkbox>-->
            </td>
        </tr>
        <tr>
            <th>不可分</th>
            <td>
                <app-select-component [codes]="getCode('006')" [(ngModel)]="contract.indivisibleFlg"></app-select-component>
            </td>
            <th>三為</th>
            <td>
                <app-select-component [codes]="getCode('006')" [(ngModel)]="contract.thirdPartyFlg"></app-select-component>
            </td>
            <th>等価交換</th>
            <td>
                <app-select-component [codes]="getCode('006')" [(ngModel)]="contract.equiExchangeFlg"></app-select-component>
            </td>
            <th>売買</th>
            <td>
                <app-select-component [codes]="getCode('009')" [(ngModel)]="contract.tradingType"></app-select-component>
            </td>
        </tr>
    </table>
    <!--/土地情報契約-->

    <!--/建物情報契約-->
    <!-- 20231206 S_Add -->
    <mat-expansion-panel expanded='true'>
        <mat-expansion-panel-header class="mat-panel-custom">
        <div>
            <span class="min">売主・不可分選択</span>
        </div>
        </mat-expansion-panel-header>
        <div class="contact-div detail-tbl-min table-custom">
    <!-- 20231206 E_Add     -->
    <!-- 20231206 S_Delete -->
    <!-- <table class="detail-tbl-min">
        <tr>
            <td><span class="min">売主・不可分選択</span>
            </td>
        </tr>
        <tr>
            <td>
                <div class="contact-div"> -->
    <!-- 20231206 E_Delete -->
                    <table>
                        <thead class="list-header">
                            <th class="c_width40">売主<br>選択</th>
                            <th class="c_width40">不可分<br>選択</th>
                            <th class="c_width40">底地<br>選択</th>
                            <th>区分</th>
                            <th class="c_width80">権利形態</th>
                            <th><span style="display: inline-block;width: 200px;">所在</span></th>
                            <th>地番</th>
                            <th>家屋番号</th>
                            <th>所有者<br>（売主・登記名義人）</th>
                            <th>登記名義人</th>
                            <th style="display: block;border:none" class="width300">所有者住所<br>（売主住所）</th>
                            <!--<th>契約者名</th>-->
                            <th class="c_width80">地目</th>
                            <th>地積</th>
                            <th class="c_width250">地積のうち借地契約面積<br>または地上権持分</th>
                            <th>地積のうち有効面積<br>または売買対象面積</th>
                            <th>種類</th>
                            <th>構造</th>
                            <th class="c_width40">階建</th>
                            <th>床面積</th>
                        </thead>
                        <tbody class="list-body">
                            <tr *ngFor="let item of data.locations; index as pos">
                                <!-- 20240131 S_Update -->
                                <!-- <td [ngClass]="{'tderror': errors['contractDataType_01_' + pos]}"><mat-checkbox color="primary" [ngModel]="item.contractDetail.contractDataType === '01'" (change)="change($event, item, '01')" *ngIf="hasSharer(item)" ></mat-checkbox></td>
                                <td><mat-checkbox color="primary" [ngModel]="item.contractDetail02 === '02'" (change)="change($event, item, '02')"></mat-checkbox></td>
                                <td [ngClass]="{'tderror': errors['contractDataType_03_' + pos]}"><mat-checkbox color="primary" [ngModel]="item.contractDetail.contractDataType === '03'" (change)="change($event, item, '03')" *ngIf="item.locationType === '01'" ></mat-checkbox></td>                                 -->
                                <td [ngClass]="{'tderror': errors['contractDataType_01_' + pos]}"><mat-checkbox color="primary" [ngModel]="item.contractDetail.contractDataType === '01'" (change)="change($event, item, '01')" *ngIf="hasSharer(item)" [disabled]="disableUser"></mat-checkbox></td>
                                <td><mat-checkbox color="primary" [ngModel]="item.contractDetail02 === '02'" (change)="change($event, item, '02')" [disabled]="disableUser"></mat-checkbox></td>
                                <td [ngClass]="{'tderror': errors['contractDataType_03_' + pos]}"><mat-checkbox color="primary" [ngModel]="item.contractDetail.contractDataType === '03'" (change)="change($event, item, '03')" *ngIf="item.locationType === '01'" [disabled]="disableUser"></mat-checkbox></td>                                
                                <!-- 20240131 E_Update -->
                                <td>{{getCodeTitle('007', item.locationType)}}</td>
                                <td>{{getCodeTitle('011', item.rightsForm)}}</td>
                                <td class="width200 text-left">{{item.address}}</td>
                                <td>{{item.blockNumber}}</td>
                                <td>{{item.buildingNumber}}</td>
                                <td>{{item.owner}}</td>
                                <td>
                                    <label *ngIf="!(item.sharers.length > 1)">{{item.sharers.length === 1 ? item.sharers[0].sharer : ''}}</label>
                                    <!-- 20240131 S_Update -->
                                    <!-- <button class="sharerBtn" *ngIf="item.sharers.length > 1" (click)="showSharer(item)" >表示</button>  -->
                                    <button class="sharerBtn" *ngIf="item.sharers.length > 1" [disabled]="disableUser"  (click)="showSharer(item)" >表示</button> 
                                    <!-- 20240131 E_Update -->
                                </td>
                                <td class="width300 text-left">{{item.ownerAdress}}</td>
                                <td>{{getCodeTitle('002', item.landCategory)}}</td>
                                <td>{{item.area > 0 ? item.area + '&nbsp;㎡' : ''}}</td>
                                <!-- 20240131 S_Update -->
                                <!-- <td><span *ngIf="item.contractDetail.contractDataType === '03'"><input type="text" class="c_width250" (keypress)="floatOnly($event)" [(ngModel)]="item.contractDetail.contractArea" maxlength="100"></span></td>
                                <td><span *ngIf="item.contractDetail.contractDataType === '01'"><input type="text" class="width80 number" (keypress)="floatOnly($event)" [(ngModel)]="item.contractDetail.contractHaveMap" maxlength="12" [value]="changeValue(item.contractDetail.contractHaveMap)" (change)="sumAreaProcess()">&nbsp;㎡</span></td> -->
                                <td><span *ngIf="item.contractDetail.contractDataType === '03'"><input type="text" class="c_width250" (keypress)="floatOnly($event)" [(ngModel)]="item.contractDetail.contractArea" maxlength="100" [disabled]="disableUser"></span></td>
                                <td><span *ngIf="item.contractDetail.contractDataType === '01'"><input type="text" class="width80 number" (keypress)="floatOnly($event)" [(ngModel)]="item.contractDetail.contractHaveMap" maxlength="12" [value]="changeValue(item.contractDetail.contractHaveMap)" (change)="sumAreaProcess()" [disabled]="disableUser">&nbsp;㎡</span></td>
                                <!-- 20240131 E_Update -->
                                <td>{{getCodeTitles('003',item.dependType)}}</td>
                                <td style="white-space: pre;">{{item.structure}}</td>
                                <td>{{item.dependFloor}}</td>
                                <td style="white-space: pre;">{{item.floorSpace}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
    <!-- 20231206 S_Delete -->
            <!-- </td>
        </tr>
    </table> -->
    <!-- 20231206 E_Delete -->
    <!-- 20231206 S_Add -->
    </mat-expansion-panel>
    <br>
    <!-- 20231206 E_Add -->

    <table class="detail-tbl-min">
        <tr>
            <td colspan="8">
                <span class="min"><label>契約内容</label></span>
            </td>
        </tr>
        <tr *ngFor="let seller of contract.sellers | slice:0:1">
            <th class="sharer" style="white-space: nowrap;">契約者名
                <!-- 20240131 S_Update -->
                <!-- <button mat-raised-button class="addSharer" (click)="addContractSeller()">追加</button> -->
                <button mat-raised-button class="addSharer" (click)="addContractSeller()" [disabled]="disableUser">追加</button>
                <!-- 20240131 E_Update -->
            </th>
            <td colspan="3">
                <!-- 20240131 S_Update -->
                <!-- <input type="text" [(ngModel)]="seller.contractorName" class="width300" maxlength="100"> -->
                <input type="text" [disabled]="disableUser" [(ngModel)]="seller.contractorName" class="width300" maxlength="100">
                <!-- 20240131 E_Update -->
                <!-- 20220703 S_Delete -->
                <!--&nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;受領書印紙&nbsp;</span><mat-checkbox [checked]="seller.contractorType === '1'" (change)="flgChangeForSeller($event, seller, 'contractorType')"></mat-checkbox>-->
                <!-- 20220703 E_Delete -->
            </td>
            <th class="sharer">契約者住所</th>
            <td colspan="3">
                <!-- 20240131 S_Update -->
                <!-- <input type="text" [(ngModel)]="seller.contractorAdress" class="width300" maxlength="100"> -->
                <input type="text" [disabled]="disableUser" [(ngModel)]="seller.contractorAdress" class="width300" maxlength="100">
                <!-- 20240131 E_Update -->
            </td>
        </tr>
        <tr *ngFor="let seller of contract.sellers | slice:1; index as sharerPos">
            <th class="sharer">契約者名
                <!-- 20240131 S_Update -->
                <!-- <button mat-raised-button class="deleteSharer" (click)="deleteContractSeller(sharerPos)">削除</button> -->
                <button mat-raised-button class="deleteSharer" (click)="deleteContractSeller(sharerPos)" [disabled]="disableUser">削除</button>
                <!-- 20240131 E_Update -->
            </th>
            <td colspan="3">
                <!-- 20240131 S_Update -->
                <!-- <input type="text" [(ngModel)]="seller.contractorName" class="width300" maxlength="100"> -->
                <input type="text" [disabled]="disableUser" [(ngModel)]="seller.contractorName" class="width300" maxlength="100">
                <!-- 20240131 E_Update -->
                <!-- 20220703 S_Delete -->
                <!--&nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;受領書印紙&nbsp;</span><mat-checkbox [checked]="seller.contractorType === '1'" (change)="flgChangeForSeller($event, seller, 'contractorType')"></mat-checkbox>-->
                <!-- 20220703 E_Delete -->
            </td>
            <th class="sharer">契約者住所</th>
            <td colspan="3">
                <!-- 20240131 S_Update -->
                <!-- <input type="text" [(ngModel)]="seller.contractorAdress" class="width300" maxlength="100"> -->
                <input type="text" [disabled]="disableUser" [(ngModel)]="seller.contractorAdress" class="width300" maxlength="100">
                <!-- 20240131 E_Update -->
            </td>
        </tr>
        <tr>
            <th>契約日</th>
            <td>
                <input type="text" [matDatepicker]="contractDay" class="width100" [(ngModel)]="contract.contractDayMap">
                <mat-datepicker-toggle matSuffix [for]="contractDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #contractDay></mat-datepicker>
            </td>
        </tr>
        <tr>
            <th>売買代金</th>
            <td>
                <input type="text" [(ngModel)]="contract.tradingPriceMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.tradingPriceMap)">&nbsp;円
                <span style="font-size: small;">&nbsp;&nbsp;(売買代金内訳)</span>
            </td>
            <th>売買代金（土地）</th>
            <td>
                <input type="text" [(ngModel)]="contract.tradingLandPriceMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.tradingLandPriceMap)">&nbsp;円
            </td>
            <th>売買代金（建物）</th>
            <td>
                <input type="text" [(ngModel)]="contract.tradingBuildingPriceMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.tradingBuildingPriceMap)">&nbsp;円
            </td>
            <th>売買代金（借地権）</th>
            <td>
                <input type="text" [(ngModel)]="contract.tradingLeasePriceMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.tradingLeasePriceMap)">&nbsp;円
            </td>
        </tr>
        <tr>
            <!-- 20201124 S_Add -->
            <th>売買代金（消費税）</th>
            <td>
                <input type="text" [(ngModel)]="contract.tradingTaxPriceMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.tradingTaxPriceMap)">&nbsp;円
            </td>
            <!-- 20201124 E_Add -->
            <th>実測精算単価</th>
            <td colspan="5">
                <input type="text" [(ngModel)]="contract.setlementPriceMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.setlementPriceMap)">&nbsp;万円
            </td>
        </tr>
        <tr>
            <th>決済日(所有権移転日)</th>
            <td>
                <input type="text" [matDatepicker]="decisionDay" class="width100" [(ngModel)]="contract.decisionDayMap">
                <mat-datepicker-toggle matSuffix [for]="decisionDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #decisionDay></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="contract.decisionDayChk === '1'" (change)="flgFinish($event, data)"></mat-checkbox>
            </td>
            <th>決済予定日</th>
            <td>
                <input type="text" [matDatepicker]="deliveryFixedDay" class="width100" [(ngModel)]="contract.deliveryFixedDayMap">
                <mat-datepicker-toggle matSuffix [for]="deliveryFixedDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #deliveryFixedDay></mat-datepicker>
            </td>
           <th>明渡期日</th>
           <td>
                <input type="text" [matDatepicker]="vacationDay" class="width100" [(ngModel)]="contract.vacationDayMap">
                <mat-datepicker-toggle matSuffix [for]="vacationDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #vacationDay></mat-datepicker>
           </td>
        </tr>
        <tr>
            <th>即決和解申請日</th>
            <td>
                <input type="text" [matDatepicker]="settlementDay" class="width100" [(ngModel)]="contract.settlementDayMap">
                <mat-datepicker-toggle matSuffix [for]="settlementDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #settlementDay></mat-datepicker>
            </td>
            <th>即決和解成立日</th>
            <td>
                <input type="text" [matDatepicker]="settlementDayFin" class="width100" [(ngModel)]="contract.settlementDayFinMap">
                <mat-datepicker-toggle matSuffix [for]="settlementDayFin" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #settlementDayFin></mat-datepicker>
            </td>
            <th>和解成立後</th>
            <td colspan="2">
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.settlementAfter" maxlength="100"><span style="font-size: small;">以内に支払い</span>
            </td>
        </tr>
        <!-- 20231128 S_Update -->
        <!-- <tr>
            <th>内金①</th>
            <td>
                <input type="text" [(ngModel)]="contract.deposit1Map" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.deposit1Map)">&nbsp;円
                <br>
                <input type="text" [matDatepicker]="deposit1Day" class="width100" [(ngModel)]="contract.deposit1DayMap">
                <mat-datepicker-toggle matSuffix [for]="deposit1Day" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #deposit1Day></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="contract.deposit1DayChk === '1'" (change)="flgChange1($event, data)"></mat-checkbox>
            </td>
            <th>内金②</th>
            <td>
                <input type="text" [(ngModel)]="contract.deposit2Map" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.deposit2Map)">&nbsp;円
                <br>
                <input type="text" [matDatepicker]="deposit2Day" class="width100" [(ngModel)]="contract.deposit2DayMap">
                <mat-datepicker-toggle matSuffix [for]="deposit2Day" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #deposit2Day></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="contract.deposit2DayChk === '1'" (change)="flgChange2($event, data)"></mat-checkbox>
            </td>
            <th>内金③</th>
            <td>
                <input type="text" [(ngModel)]="contract.deposit3Map" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.deposit3Map)">&nbsp;円
                <br>
                <input type="text" [matDatepicker]="deposit3Day" class="width100" [(ngModel)]="contract.deposit3DayMap">
                <mat-datepicker-toggle matSuffix [for]="deposit3Day" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #deposit3Day></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="contract.deposit3DayChk === '1'" (change)="deposit3Change($event, data)"></mat-checkbox>
            </td>
            <th>内金④</th>
            <td>
                <input type="text" [(ngModel)]="contract.deposit4Map" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.deposit4Map)">&nbsp;円
                <br>
                <input type="text" [matDatepicker]="deposit4Day" class="width100" [(ngModel)]="contract.deposit4DayMap">
                <mat-datepicker-toggle matSuffix [for]="deposit4Day" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #deposit4Day></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="contract.deposit4DayChk === '1'" (change)="deposit4Change($event, data)"></mat-checkbox>
            </td>
        </tr> -->
        <tr *ngFor="let dep of contract.depositsMap; index as pos">
            <!-- 20240131 S_Update -->
            <!-- <th>内金{{ getIndexJp(pos) }}
                <button *ngIf="pos == 0 && contract.depositsMap.length < 10" mat-raised-button class="addSharer" (click)="addDeposit()">追加</button>
                <button *ngIf="pos != 0" mat-raised-button class="deleteSharer" (click)="deleteDeposit(pos)">削除</button>
            </th>
            <td colspan="7">
                <input type="text" [(ngModel)]="dep.depositMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(dep.depositMap)">&nbsp;円
                &nbsp;
                <input type="text" [matDatepicker]="depositDay" class="width100" [(ngModel)]="dep.depositDayMap">
                <mat-datepicker-toggle matSuffix [for]="depositDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #depositDay></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="dep.depositDayChk === '1'" (change)="depositDayChange($event, data, pos)"></mat-checkbox>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;預り金</span><mat-checkbox [checked]="dep.depositChk === '1'" (change)="depositChange($event, data, pos)"></mat-checkbox>
            </td> -->
            <th>内金{{ getIndexJp(pos) }}
                <button *ngIf="pos == 0 && contract.depositsMap.length < 10" mat-raised-button class="addSharer" (click)="addDeposit()" [disabled]="disableUser">追加</button>
                <button *ngIf="pos != 0" mat-raised-button class="deleteSharer" (click)="deleteDeposit(pos)" [disabled]="disableUser">削除</button>
            </th>
            <td colspan="7">
                <input type="text" [(ngModel)]="dep.depositMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(dep.depositMap)" [disabled]="disableUser">&nbsp;円
                &nbsp;
                <input type="text" [matDatepicker]="depositDay" class="width100" [(ngModel)]="dep.depositDayMap" [disabled]="disableUser">
                <mat-datepicker-toggle matSuffix [for]="depositDay" class="picker-icon" [disabled]="disableUser"></mat-datepicker-toggle>
                <mat-datepicker #depositDay [disabled]="disableUser"></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="dep.depositDayChk === '1'" (change)="depositDayChange($event, data, pos)" [disabled]="disableUser"></mat-checkbox>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;預り金</span><mat-checkbox [checked]="dep.depositChk === '1'" (change)="depositChange($event, data, pos)" [disabled]="disableUser"></mat-checkbox>
            </td>
            <!-- 20240131 E_Update -->
        </tr>
        <!-- 20231128 E_Update -->
        <tr>
        <!-- 20210510 E_Add -->
            <!-- 20240327 S_Update -->
            <!-- <th>手付金</th>
            <td> -->
            <th rowspan="2">手付金</th>
            <td rowspan="2">
            <!-- 20240327 E_Update -->
                <input type="text" [(ngModel)]="contract.earnestPriceMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.earnestPriceMap)">&nbsp;円
                <br>
                <input type="text" [matDatepicker]="earnestPriceDay" class="width100" [(ngModel)]="contract.earnestPriceDayMap">
                <mat-datepicker-toggle matSuffix [for]="earnestPriceDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #earnestPriceDay></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="contract.earnestPriceDayChk === '1'" (change)="flgChange3($event, data)"></mat-checkbox>
            </td>
            <!-- 20240327 S_Update -->
            <!-- <th>売買残代金</th>
            <td> -->
            <th rowspan="2">売買残代金</th>
            <td rowspan="2">
            <!-- 20240327 E_Update -->
                <input type="text" [(ngModel)]="contract.tradingBalanceMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.tradingBalanceMap)">&nbsp;円
            </td>
            <!-- 20231010 S_Add -->
            <!-- 20240327 S_Update -->
            <!-- <th>賃料精算金</th>
            <td> -->
            <th rowspan="2">賃料精算金</th>
            <td rowspan="2">
            <!-- 20240327 E_Update -->
                <input type="text" [(ngModel)]="contract.rentalSettlementMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.rentalSettlementMap)">&nbsp;円
                <!-- 20240123 S_Add -->
                <br>
                <!-- 20240131 S_Update -->
                <!-- &nbsp;<button mat-raised-button style="line-height:20px;margin-top: 5px;" color="primary" class="button" (click)="calRentalSettlement()">計算</button> -->
                &nbsp;<button mat-raised-button style="line-height:20px;margin-top: 5px;" color="primary" class="button" (click)="calRentalSettlement()" [disabled]="disableUser">計算</button>
                <!-- 20240131 E_Update -->
                <!-- 20240123 E_Add -->
            </td>
            <!-- 20240327 S_Update -->
            <!-- <th>承継敷金(保証金)</th> -->
            <th>承継敷金</th>
            <!-- 20240327 E_Update -->
            <td>
                <input type="text" [(ngModel)]="contract.successionDepositMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.successionDepositMap)">&nbsp;円
            </td>
            <!-- 20231010 E_Add -->
        </tr>
        <!-- 20240327 S_Add -->
        <tr>
            <th>承継保証金</th>
            <td>
                <input type="text" [(ngModel)]="contract.successionSecurityDepositMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.successionSecurityDepositMap)">&nbsp;円
            </td>
        </tr>
        <!-- 20240327 E_Add -->
        <tr>
            <th>固都税清算金</th>
            <td>
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.fixedTaxMap" maxlength="15" [value]="changeValue(contract.fixedTaxMap)">&nbsp;円
                <!-- 20210905 S_Add -->
                <!-- 20240131 S_Update -->
                <!-- &nbsp;&nbsp;&nbsp;&nbsp;<button mat-raised-button style="line-height:20px" color="primary" class="button" (click)="calcKotozei()">計算</button> -->
                &nbsp;&nbsp;&nbsp;&nbsp;<button mat-raised-button style="line-height:20px" color="primary" class="button" (click)="calcKotozei()" [disabled]="disableUser">計算</button>
                <!-- 20240131 E_Update -->
                <!-- 20210905 E_Add -->

                <!-- 20230501 S_Add -->
                <br>
                <input type="text" [matDatepicker]="fixedTaxDay" class="width100" [(ngModel)]="contract.fixedTaxDayMap">
                <mat-datepicker-toggle matSuffix [for]="fixedTaxDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #fixedTaxDay></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="contract.fixedTaxDayChk === '1'" (change)="flgChangeFixedTaxDay($event, data)"></mat-checkbox>
                <!-- 20230501 S_Add -->
            </td>
            <th>(固都税清算金)土地</th>
            <td>
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.fixedLandTaxMap" maxlength="15" [value]="changeValue(contract.fixedLandTaxMap)">&nbsp;円
            </td>
            <th>(固都税清算金)建物</th>
            <td>
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.fixedBuildingTaxMap" maxlength="15" [value]="changeValue(contract.fixedBuildingTaxMap)">&nbsp;円
            </td>
            <!-- 20210905 S_Add -->
            <th>建物分消費税</th>
            <td>
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.fixedBuildingTaxOnlyTaxMap" maxlength="15" [value]="changeValue(contract.fixedBuildingTaxOnlyTaxMap)">&nbsp;円
            </td>
            <!-- 20210905 E_Add -->
        </tr>
        <tr>
            <th>決済代金</th>
            <td>
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.decisionPriceMap" maxlength="15" [value]="changeValue(contract.decisionPriceMap)">&nbsp;円
            </td>
            <th>留保金</th>
            <td>
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.retainageMap" maxlength="15" [value]="changeValue(contract.retainageMap)">&nbsp;円
            </td>
            <th>留保金支払(明渡)日</th>
            <td>
                <input type="text" [matDatepicker]="retainageDay" class="width100" [(ngModel)]="contract.retainageDayMap">
                <mat-datepicker-toggle matSuffix [for]="retainageDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #retainageDay></mat-datepicker>
                <!-- 20210728 S_Add -->
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;済</span><mat-checkbox [checked]="contract.retainageDayChk === '1'" (change)="retainageChange($event, data)"></mat-checkbox>
                <!-- 20210728 E_Add -->
            </td>
        </tr>
        <tr>
            <th>振込情報</th>
            <td colspan="7">
                &nbsp;&nbsp;&nbsp;<label>・銀行</label>&nbsp;&nbsp;&nbsp;<input type="text" [(ngModel)]="contract.bank" class="width150" maxlength="100">
                &nbsp;&nbsp;&nbsp;<label>・支店</label>&nbsp;&nbsp;&nbsp;<input type="text" [(ngModel)]="contract.branchName" class="width150" maxlength="100">
                &nbsp;&nbsp;&nbsp;<label>・口座種別</label>&nbsp;&nbsp;&nbsp;<app-select-component [codes]="getCode('026')"  [(ngModel)]="contract.accountType"></app-select-component>
                &nbsp;&nbsp;&nbsp;<label>・口座</label>&nbsp;&nbsp;&nbsp;<input type="text" [(ngModel)]="contract.accountName" class="width150" maxlength="100">
                &nbsp;&nbsp;&nbsp;<label>・名義</label>&nbsp;&nbsp;&nbsp;<input type="text" [(ngModel)]="contract.bankName" class="width150" maxlength="100">
            </td>
        </tr>
        <!-- 20200828 S_Add -->
        <tr>
            <th>仲介会社</th>
            <td>
                <input type="text" [(ngModel)]="contract.intermediaryName" class="width250" maxlength="100">
            </td>
            <th>仲介会社住所</th>
            <td>
                <input type="text" [(ngModel)]="contract.intermediaryAddress" class="width250" maxlength="100">
            </td>
            <th>仲介手数料</th>
            <td>
                <!--<input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.intermediaryPrice" maxlength="15">&nbsp;円-->
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.intermediaryPriceMap" maxlength="15" [value]="changeValue(contract.intermediaryPriceMap)">&nbsp;円
            </td>
            <!-- 20201218 S_Add -->
            <th>仲介手数料支払日</th>
            <td>
                <input type="text" [matDatepicker]="intermediaryPricePayDay" class="width100" [(ngModel)]="contract.intermediaryPricePayDayMap">
                <mat-datepicker-toggle matSuffix [for]="intermediaryPricePayDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #intermediaryPricePayDay></mat-datepicker>
            </td>
            <!-- 20201218 E_Add -->
        </tr>
        <tr>
            <th>業務委託先</th>
            <td>
                <input type="text" [(ngModel)]="contract.outsourcingName" class="width250" maxlength="100">
            </td>
            <th>業務委託先住所</th>
            <td>
                <input type="text" [(ngModel)]="contract.outsourcingAddress" class="width250" maxlength="100">
            </td>
            <th>業務委託料</th>
            <td>
                <!--<input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.outsourcingPrice" maxlength="15">&nbsp;円-->
                <input type="text" class="width100 number" (keypress)="numericOnly($event)" [(ngModel)]="contract.outsourcingPriceMap" maxlength="15" [value]="changeValue(contract.outsourcingPriceMap)">&nbsp;円
            </td>
            <!-- 20201218 S_Add -->
            <th>業務委託料支払日</th>
            <td>
                <input type="text" [matDatepicker]="outsourcingPricePayDay" class="width100" [(ngModel)]="contract.outsourcingPricePayDayMap">
                <mat-datepicker-toggle matSuffix [for]="outsourcingPricePayDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #outsourcingPricePayDay></mat-datepicker>
            </td>
            <!-- 20201218 E_Add -->
        </tr>
        <!-- 20200828 E_Add -->
        <tr>
            <th>解約日</th>
            <!-- 20230418 S_Update -->
            <!-- <td> -->
            <td colspan="3">
            <!-- 20230418 S_Update -->
                <input type="text" [matDatepicker]="canncellDay" class="width100" [(ngModel)]="contract.canncellDayMap">
                <mat-datepicker-toggle matSuffix [for]="canncellDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #canncellDay></mat-datepicker>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;等価交換の為</span><mat-checkbox [checked]="contract.canncellDayChk === '1'" (change)="flgCanncell($event, data)"></mat-checkbox>
                <!-- 20230418 S_Add -->
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;合意書締結済み</span><mat-checkbox [checked]="contract.canncellDayChkAgree === '1'" (change)="flgCanncellDayChkAgree($event, data)"></mat-checkbox>
                &nbsp;<span style="font-size: 0.8em;">&nbsp;&nbsp;口頭・稟議取得済み</span><mat-checkbox [checked]="contract.canncellDayChkApproval === '1'" (change)="flgCanncellDayChkApproval($event, data)"></mat-checkbox>
                <!-- 20230418 E_Add -->
            </td>
        </tr>
        <tr>
            <th>解約理由</th>
            <td colspan="7">
                <input type="text" class="width85Per" [(ngModel)]="contract.canncell" maxlength="100">
            </td>
        </tr>
        <tr>
            <th>備考</th>
            <td colspan="7">
                <input type="text" class="width85Per" [(ngModel)]="contract.remarks" maxlength="100">
            </td>
        </tr>
        <tr>
            <th>計画地の公図</th>
            <td colspan="7">
                <label *ngIf="!(contract.pid > 0)" style="color:red">※契約情報を登録後に添付可能となります。</label>   
                <!-- 20230317 S_Update -->
                <!-- <app-file contractInfoId="{{contract.pid}}" *ngIf="contract.pid > 0" (uploaded)="uploaded($event)" [immediately]="true"></app-file>  -->
                <app-file contractInfoId="{{contract.pid}}" *ngIf="contract.pid > 0 && !disableUser" (uploaded)="uploaded($event)" [immediately]="true"></app-file> 
                <!-- 20230317 E_Update -->
                
                <table style="margin-left: 5px;">
                    <tr *ngFor="let map of contract.contractFiles">
                        <td class="min-width160"><a [attr.href]="map.attachFilePath + map.attachFileName" target="_blank">{{map.attachFileName}}</a></td>
                        <!-- 20230317 S_Update -->
                        <!-- <td><button mat-flat-button class="attach-btn" (click)="deleteFile(map)">削除</button></td> -->
                        <td><button mat-flat-button class="attach-btn" *ngIf="!disableUser" (click)="deleteFile(map)">削除</button></td>
                        <!-- 20230317 E_Update -->
                    </tr>
                </table>
            </td>
        </tr>
        <!-- 20230227 S_Add -->
        <!-- 20230331 S_Update -->
        <!-- <tr *ngIf="enableAttachUser"> -->
        <tr>
        <!-- 20230331 E_Update -->
            <th>契約書等</th>
            <td colspan="7">
                <label *ngIf="!(contract.pid > 0)" style="color:red">※契約情報を登録後に添付可能となります。</label>
                <!-- 20230317 S_Update -->
                <!-- <app-file contractInfoId="{{contract.pid}}" attachFileType="0" *ngIf="contract.pid > 0" (uploaded)="attachUploaded($event)" [immediately]="true"></app-file>  -->
                <app-file contractInfoId="{{contract.pid}}" attachFileType="0" *ngIf="contract.pid > 0 && !disableUser" (uploaded)="attachUploaded($event)" [immediately]="true"></app-file> 
                <!-- 20230317 E_Update -->
                
                <table style="margin-left: 5px;">
                    <tr *ngFor="let map of contract.contractAttaches">
                        <!-- 20230511 S_Add -->
                        <mat-checkbox [checked]="map.attachFileChk === '1'" (change)="flgChangeAttachFileChk($event, map)"></mat-checkbox>
                        <!-- 20230511 E_Add -->
                        <td class="min-width160"><a [attr.href]="map.attachFilePath + map.attachFileName" target="_blank">{{map.attachFileName}}</a></td>
                        
                        <!-- 20230511 S_Add -->
                        <input type="text" [matDatepicker]="attachFileDay" class="width100" [(ngModel)]="map.attachFileDayMap">
                        <mat-datepicker-toggle matSuffix [for]="attachFileDay" class="picker-icon"></mat-datepicker-toggle>
                        <mat-datepicker #attachFileDay></mat-datepicker>
                        <input type="text" [(ngModel)]="map.attachFileDisplayName" class="width300" maxlength="128">
                        <!-- 20230511 E_Add -->

                        <!-- 20230317 S_Update -->
                        <!-- <td><button mat-flat-button class="attach-btn" (click)="deleteAttach(map)">削除</button></td> -->
                        <td><button mat-flat-button class="attach-btn" *ngIf="!disableUser" (click)="deleteAttach(map)">削除</button></td>
                        <!-- 20230317 E_Update -->
                    </tr>
                </table>
            </td>
        </tr>
        <!-- 20230227 E_Add -->
    </table>

    <!-- 20230917 S_Add -->
    <!--賃貸一覧-->
    <div class="button-div-left" *ngIf="pid > 0 && !disableRentalUser">
        <button mat-raised-button class="register-btn" (click)="navigateRental()">賃貸情報　登録</button>
    </div>

    <div class="contact-div margin-base" *ngIf="!disableRentalUser" style="width: 100%;">
        <span class="min">賃貸一覧</span>
        <table style="width: auto;">
            <thead class="list-header">
                <th class="width_name">建物名</th>
                <th class="width100">賃借人数</th>
                <th class="width100">総戸数</th>
                <th class="width80">詳細</th>
                <th class="width100">台帳作成</th>
                <th class="width150">入金管理表作成</th>
                <th class="width80">削除</th>
            </thead>
            <tbody class="list-body">
                <tr *ngFor="let item of rentals; index as pos">
                    <td class="text-left">{{item.apartmentName}}</td>
                    <td class="text-right">{{numberFormat(item.countContract)}}</td>
                    <td class="text-right">{{numberFormat(item.totalUnits)}}</td>
                    <td><button mat-raised-button (click)="showDetailRental(item)" color="warn">詳細</button></td>
                    <!-- 20231016 S_Update -->
                    <!-- <td><button mat-raised-button class="output-btn">台帳作成</button></td> -->
                    <td><button mat-raised-button (click)="exportRental(item.pid)" class="output-btn">台帳作成</button></td>
                    <!-- 20231016 E_Update -->
                    <!-- 20231115 S_Update -->
                    <!-- <td><button mat-raised-button class="output-btn2">入金管理表作成</button></td> -->
                    <td><button mat-raised-button (click)="exportRentalManage(item.pid)" class="output-btn2">入金管理表作成</button></td>
                    <!-- 20231115 S_Update -->
                    <td><button mat-raised-button (click)="deleteRentalInfo(item,pos)" class="delete_btn">削除</button></td>
                </tr>
            </tbody>
        </table>
    </div>
    <br>
    <!--立退き一覧-->
    <div class="button-div-left" *ngIf="pid > 0 && !disableRentalUser">
        <button mat-raised-button class="register-btn" (click)="addEvictionInfo()">立退き情報　登録</button>
    </div>

    <div class="contact-div margin-base" *ngIf="!disableRentalUser" style="width: 100%;">
        <span class="min">立退き一覧</span>
        <table style="width: auto;">
            <thead class="list-header">
                <th class="width_name">建物名</th>
                <th>部屋番号</th>
                <th>賃借人名</th>
                <th class="width100">明渡日</th>
                <th class="width100">明渡予定日</th>
                <!-- 20240123 S_Update -->
                <!-- <th class="width80">詳細</th>
                <th class="width80">合意書</th>
                <th class="width150">預り金一覧作成</th> -->
                <th class="width80">合意書</th>
                <th class="width150">預り金一覧作成</th>
                <th class="width80">詳細</th>
                <th class="width80">削除</th>
                <!-- 20240123 E_Update -->
            </thead>
            <tbody class="list-body">
                <tr *ngFor="let item of evictions; index as pos">
                    <td class="text-left">{{item.apartmentName}}</td>
                    <td class="text-left">{{item.roomNo}}</td>
                    <td class="text-left">{{item.borrowerName}}</td>
                    <td>{{formatDay(item.surrenderDate, 'yyyy/MM/dd')}}</td>
                    <td>{{formatDay(item.surrenderScheduledDate, 'yyyy/MM/dd')}}</td>
                    <!-- 20240123 S_Update -->
                    <!-- <td><button mat-raised-button (click)="showEvictionInfo(item,pos)" color="warn">詳細</button></td>
                    <td><span class="font-bold" *ngIf="item.acquiredAgreementFlg === '1'">有</span></td>
                    <td><button mat-raised-button class="output-btn2">預り金一覧作成</button></td> -->
                    <td><span class="font-bold" *ngIf="item.acquiredAgreementFlg === '1'">有</span></td>
                    <td><button mat-raised-button class="output-btn2">預り金一覧作成</button></td>
                    <td><button mat-raised-button (click)="showEvictionInfo(item,pos)" color="warn">詳細</button></td>
                    <td><button mat-raised-button (click)="deleteEvictionInfo(item,pos)" class="delete_btn">削除</button></td>
                    <!-- 20240123 E_Update -->
                </tr>
            </tbody>
        </table>
    </div>
    <br>
    <!-- 20230917 E_Add -->

    <!-- 20230917 S_Delete -->
    <!-- <table class="detail-tbl-min">
        <tr>
            <td colspan="8">
                <span class="min" style="width: 155px !important;">優先分譲特約内容</span>
            </td>
        </tr>
        <tr>
            <th>優先分譲面積<br>（専有面積）</th>
            <td style="width: 136px;"><input type="text" [(ngModel)]="contract.prioritySalesAreaMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="12" [value]="changeValue(contract.prioritySalesAreaMap)">&nbsp;㎡</td>
            <th>優先分譲戸数（階）</th>
            <td style="width: 136px;"><input type="text" [(ngModel)]="contract.prioritySalesFloorMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="3" [value]="changeValue(contract.prioritySalesFloorMap)">&nbsp;階</td>
            <th>優先分譲予定価格</th>
            <td  colspan="5"><input [(ngModel)]="contract.prioritySalesPlanPriceMap" type="text" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.prioritySalesPlanPriceMap)">&nbsp;円</td>
        </tr>
    </table> -->
    <!-- 20230917 E_Delete -->
    <table class="detail-tbl-min">
        <tr>
            <td colspan="8">
                <span class="min" style="width: 155px !important;">本件マンションの計画概要</span>
            </td>
        </tr>
        <tr>
            <th>敷地面積</th>
            <td>
                <input type="text" [(ngModel)]="contract.siteAreaMap" class="width100 number" (keypress)="floatOnly($event)" maxlength="15" [value]="changeValue(contract.siteAreaMap)">&nbsp;㎡
            </td>
            <th>有効敷地面積</th>
            <td>
                <input type="text" [(ngModel)]="contract.siteAvailableAreaMap" class="width100 number" (keypress)="floatOnly($event)" maxlength="15" [value]="changeValue(contract.siteAvailableAreaMap)">&nbsp;㎡
            </td>
            <th>構造</th>
            <td>
                <input type="text" [(ngModel)]="contract.structure" class="width150" maxlength="100">
            </td>
            <th>規模</th>
            <td>
                <input type="text" [(ngModel)]="contract.scale" lass="width200" maxlength="100">
            </td>
            <th>延床面積</th>
            <td>
                <input type="text" [(ngModel)]="contract.totalFloorAreaMap" class="width100 number" (keypress)="floatOnly($event)" maxlength="15" [value]="changeValue(contract.totalFloorAreaMap)">&nbsp;㎡
            </td>
        </tr>
    </table>
    <table class="detail-tbl-min">
        <tr>
            <td colspan="8">
                <span class="min"><label>事業スケジュール</label></span>
            </td>
        </tr>
        <tr>
            <th>建築確認取得</th>
            <td style="width: 120px;">
                <input type="text" [matDatepicker]="acquisitionConfirmDay" class="width100" [(ngModel)]="contract.acquisitionConfirmDayMap">
                <mat-datepicker-toggle matSuffix [for]="acquisitionConfirmDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #acquisitionConfirmDay></mat-datepicker>
            </td>
            <th>計画建物着工</th>
            <td style="width: 120px;">
                <input type="text" [matDatepicker]="startScheduledDay" class="width100" [(ngModel)]="contract.startScheduledDayMap">
                <mat-datepicker-toggle matSuffix [for]="startScheduledDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #startScheduledDay></mat-datepicker>
            </td>
            <th>優先分譲契約締結</th>
            <td style="width: 150px;">
                <input type="text" [matDatepicker]="prioritySalesAgreementDay" class="width100" [(ngModel)]="contract.prioritySalesAgreementDayMap">
                <mat-datepicker-toggle matSuffix [for]="prioritySalesAgreementDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #prioritySalesAgreementDay></mat-datepicker>
            </td>
            <th>計画建物竣工</th>
            <td style="width: 160px;">
                <input type="text" [matDatepicker]="finishScheduledDay" class="width100" [(ngModel)]="contract.finishScheduledDayMap">
                <mat-datepicker-toggle matSuffix [for]="finishScheduledDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #finishScheduledDay></mat-datepicker>
            </td>
            <th>取得物件引渡</th>
            <td style="width: 120px;">
                <input type="text" [matDatepicker]="deliveryDay" class="width100" [(ngModel)]="contract.deliveryDayMap">
                <mat-datepicker-toggle matSuffix [for]="deliveryDay" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #deliveryDay></mat-datepicker>
            </td>
        </tr>
    </table>
    <!-- 20230917 S_Add -->
    <table class="detail-tbl-min">
        <tr>
            <td colspan="8">
                <span class="min" style="width: 155px !important;">優先分譲特約内容</span>
            </td>
        </tr>
        <tr>
            <th>優先分譲面積<br>（専有面積）</th>
            <td style="width: 136px;"><input type="text" [(ngModel)]="contract.prioritySalesAreaMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="12" [value]="changeValue(contract.prioritySalesAreaMap)">&nbsp;㎡</td>
            <th>優先分譲戸数（階）</th>
            <td style="width: 136px;"><input type="text" [(ngModel)]="contract.prioritySalesFloorMap" class="width100 number" (keypress)="numericOnly($event)" maxlength="3" [value]="changeValue(contract.prioritySalesFloorMap)">&nbsp;階</td>
            <th>優先分譲予定価格</th>
            <td  colspan="5"><input [(ngModel)]="contract.prioritySalesPlanPriceMap" type="text" class="width100 number" (keypress)="numericOnly($event)" maxlength="15" [value]="changeValue(contract.prioritySalesPlanPriceMap)">&nbsp;円</td>
        </tr>
    </table>
    <!-- 20230917 E_Add -->
    <!--/建物情報契約-->
    <br>
    <div class="register-div" style="margin-top:10px">
        <button mat-raised-button class="button" (click)="backToList()">一覧へ</button>
        <button mat-raised-button class="button bukken-button" (click)="toBukken()">物件情報</button>
        <!-- 20240131 S_Update -->
        <!-- <button mat-raised-button color="primary" class="button" (click)="save()">登録</button> -->
        <button mat-raised-button color="primary" class="button" *ngIf="!this.disableUser" (click)="save()">登録</button>
        <!-- 20240131 E_Update -->
    </div>
</div>
