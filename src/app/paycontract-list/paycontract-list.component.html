<div class="mat-elevation-z8 main">
    <mat-expansion-panel expanded='true'>
        <mat-expansion-panel-header>
            <mat-panel-title>検索条件</mat-panel-title>
        </mat-expansion-panel-header>
        <div class="search-div">
        <table class="search-tbl">                
            <tr>
                <th>物件番号</th>
                    <td>
                        <input type="text" class="width300" [(ngModel)]="cond.bukkenNo">
                    </td>
                <th>物件名</th>
                <td>
                    <input type="text" class="fuzzyWidth400" [(ngModel)]="cond.bukkenName">
                </td>
            </tr>    
            <tr>
                <th>取引先</th>
                <td>
                    <input type="text" class="fuzzyWidth400" [(ngModel)]="cond.supplierName">
                </td>
                <th>契約予定日</th>
                <td>
                <div class="picker-div">
                <input type="text" [matDatepicker]="startDate" [(ngModel)]="cond.contractDay" class="width100">
                <mat-datepicker-toggle matSuffix [for]="startDate" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #startDate></mat-datepicker>
                </div>
                </td>
            </tr> 
            <tr>
                <th>契約完了日</th>
                <td>
                <div class="picker-div">
                <input type="text" [matDatepicker]="finishDate" [(ngModel)]="cond.contractFixDay" class="width100">
                <mat-datepicker-toggle matSuffix [for]="finishDate" class="picker-icon"></mat-datepicker-toggle>
                <mat-datepicker #finishDate></mat-datepicker>
                </div>
                </td>
            </tr> 
        </table>      
        <div style="margin: 10px 0px 10px 0px;">
            <button mat-raised-button (click)="searchPayContract()" class="search-btn">&nbsp;&nbsp;検索&nbsp;&nbsp;</button>&nbsp;&nbsp;
            <button mat-raised-button (click)="createNew()" color="warn">&nbsp;新規登録&nbsp;</button>
        </div>
        </div>    
        
    </mat-expansion-panel>
</div>        
<ngx-spinner type="ball-spin-clockwise" bdOpacity="0.7"></ngx-spinner>
<div class="mat-elevation-z8 main data">
    <table mat-table [dataSource]="dataSource" matSort>
    
        <ng-container matColumnDef="bukkenNo">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> 物件番号 </th>
        <td mat-cell *matCellDef="let element"> {{element.bukkenNo}} </td>
        </ng-container>

        <ng-container matColumnDef="bukkenName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> 物件名称 </th>
        <td mat-cell *matCellDef="let element"> {{element.bukkenName}} </td>
        </ng-container>

        <ng-container matColumnDef="supplierName">
        <th mat-header-cell *matHeaderCellDef> 取引先名称 </th>
        <td mat-cell *matCellDef="let element"> {{element.supplierName}} </td>
        </ng-container>

        <ng-container matColumnDef="contractDay">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> 契約予定日 </th>
        <td mat-cell *matCellDef="let element"> {{element.contractDay}} </td>
        </ng-container>

        <ng-container matColumnDef="contractFixDay">
        <th mat-header-cell *matHeaderCellDef> 契約確定日 </th>
        <td mat-cell *matCellDef="let element"> {{element.contractFixDay}} </td>
        </ng-container>
   
        <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let row"> 
            <button mat-raised-button (click)="deleteRow(row)" class="delete_btn">削除</button>
        </td>
        </ng-container>
        
        <!-- 詳細 Column -->
        <ng-container matColumnDef="detail">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let row"> 
            <button mat-raised-button (click)="showDetail(row)" color="warn">詳細</button>            
        </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="{'highlighted': selectedRowIndex == row.pid}" (mouseover)="highlight(row)"></tr>
    </table>        
    <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>
</div>